<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <title>Edit Meal Prep</title>
</head>
<body>
    <div class="mx-5">

    <br>

    <a class="btn btn-outline-primary" href="/mealPrep">Go Back</a>
        
    <br><br>

    <h1>Edit <%= recipe.mealName %></h1>

    <form action="/mealPrep/<%= recipe._id %>?_method=PUT" method="POST">


        <input class="form-control form-control-lg" type="text" name="mealName" value="<%= recipe.mealName %>" aria-label=".form-control-lg example">

        <br><br>

        <div>
            <label for="formFileLg" class="form-label">Please include a photo of your meal prep!</label>
            <input hidden class="form-control form-control-lg" id="formFileLg" type="file" name="image" value="<%= recipe.image  %> ">
        </div>

        <div class="form-floating">
            <label for="floatingTextarea">About:</label>
            <textarea class="form-control" placeholder="Write a description of your meal here." id="floatingTextarea" style="height: 100px" name="notes"><%= recipe.notes %></textarea>
        </div>

        <br><br>

        Ingredients: 

        <div class="ingredients form-floating mb-3">
        <% recipe.ingredients.map(function(meal, index){ %>

                <input type="text" class="form-control" id="floatingInput" name="ingredients" value="<%= recipe.ingredients[index] %>">
            
        <% }) %> 
        </div>

        <br>

        <div>
            <button type="button" id="ingreButton" onclick="AddIngredient()" class="btn btn-primary btn-sm">ADD AN INGREDIENT</button>
        </div>


        <br><br>

        Instructions: 


        <div class="instructions form-floating">
        <% recipe.instructions.map(function(meal, index){ %>
            <br>

                <textarea class="form-control" id="floatingTextarea2" style="height: 100px" name="instructions" type="text"><%= recipe.instructions[index] %></textarea>

        <% }) %> 
        </div>

        <br>

        <div>
            <button type="button" id="instrucButton" onclick="AddInstruction()" class="btn btn-primary btn-sm">ADD AN INSTRUCTION</button>
        </div>

        <br><br>

        Protein: <input name="protein" type="number" value="<%= recipe.protein %>" style="width: 4em">g

        <br><br>

        Fat: <input name="fat" type="number" value="<%= recipe.fat %>" style="width: 4em">g

        <br><br>

        Carbs: <input name="carbs" type="number" value="<%= recipe.carbs %>" style="width: 4em">g

        <br><br>

        Calories: <input name="calories" type="number" value="<%= recipe.calories %>" style="width: 4em"> kcal

        <br><br>

        <input type="submit" value="SAVE CHANGES" class="btn btn-outline-primary" style="padding: 20px">

    </form>

    </div>    
    
    <script type="text/javascript" src="/dynamic.js"></script>

</body>
</html>